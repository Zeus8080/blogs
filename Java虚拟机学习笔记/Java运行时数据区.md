# Java内存区域与内存溢出异常 #
## 一.Java虚拟机运行时数据区 ##
![](http://i.imgur.com/eT0vofH.png)
1. ### 程序计数器(Program Counter Register) ###
   指向当前线程正在执行的字节码指令。线程私有的。

2. ### Java虚拟机栈(Java Virtual Machine Stacks) ###
   虚拟机栈是描述Java方法执行的内存模型：每个方法在执行的同时会创建一个栈帧，把栈帧压入栈，当方法正常返回或者抛出未捕获的异常时，栈帧就会出栈。
   
   (1)**栈帧**：栈帧存储方法的相关信息，包含局部变量表、返回值、操作数栈、动态链接
   
   ​	a.局部变量表:包含了方法执行过程中的所有变量。局部变量数组所需要的空间在编译期间完成分配，在方		法运行期间不会改变局部变量数组的大小
   
   ​	b.返回值：如果有返回值的话，压入调用者栈帧中的操作数栈中，并且把PC的值指向 方法调用指令 后面的		一条指令地址。
   
   ​	c.操作数栈：操作变量的内存模型。操作数栈的最大深度在编译的时候已经确定（写入方法区code属性的            		max_stacks项中）。操作数栈的的元素可以是任意Java类型，包括long和double，32位数据占用栈空间		为，  64位数据占用2。方法刚开始执行的时候，栈是空的，当方法执行过程中，各种字节码指令往栈中		存取数据。
   
   ​	d.动态链接：每个栈帧都持有在运行时常量池中该栈帧所属方法的引用，持有这个引用是为了支持方法调用		过程中的动态链接
   
   (2)**线程私有**

### 本地方法栈(Native Method Stack) ###
(1).调用本地native的内存模型

(2).线程独享

### 方法区

于存储已被虚拟机加载的类信息、常量、静态变量、即时编译后的代码等数据

(1).线程共享的

(2).运行时常量池

​		A、是方法区的一部分
​		B、存放编译期生成的各种字面量和符号引用
​		C、Class文件中除了存有类的版本、字段、方法、接口等描述信息，还有一项是常量池，存有这个类的 				编译期生成的各种字面量和符号引用，这部分内容将在类加载后，存放到方法区的运行时常量池				中。